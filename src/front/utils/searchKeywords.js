/**
 * AI 추천(광범위) 검색을 위한 유의어/연관어 맵
 * mmaData.json을 기반으로 작성됨
 */
export const searchKeywordMap = {
  // '사용자 검색어': ['실제 검색에 사용할 키워드(유의어) 배열']

  // 1. 운전/조종/수송 (가장 많은 특기)
  운전: [
    '운전',
    '조종',
    '차량',
    '수송',
    '견인',
    '지게차',
    '도저',
    '굴착기',
    '장갑차',
    '전차',
    '자주포',
    '크레인',
    '로더',
    '선박',
    '항만',
    '이동통제',
  ],
  조종: [
    '조종',
    '운전',
    '전차승무',
    '장갑차조종',
    '자주포조종',
    '교량전차',
    '도하장비',
    '장애물개척전차',
    '헬기운용',
  ],
  수송: ['수송', '운전', '차량', '이동통제', '항만', '선박'],

  // 2. 사격/포병/무기
  사격: [
    '사격',
    '포병',
    '전차포',
    '공용화기',
    '견인포',
    '자주포',
    'K239',
    'M/A',
    '현무',
    '발칸',
    '오리콘',
    '비호',
    '천마',
    '천호',
    '무기',
    '화포',
    '유도무기',
    '총기',
  ],
  포병: [
    '포병',
    '사격',
    '포',
    '견인포',
    '자주포',
    'K239',
    'M/A',
    '현무',
    '레이더',
    '측지',
    '사격지휘',
  ],
  무기: ['무기', '총기', '화포', '포병', '유도무기', '로켓', '탄약'],

  // 3. 정비/수리
  정비: [
    '정비',
    '수리',
    '공작',
    '검사',
    '부대정비',
    '야전정비',
    '기계공작',
    '용접',
  ],
  전차정비: ['전차정비', '전차', '정비', 'K계열', 'M계열'],
  차량정비: ['차량정비', '차량', '정비', '자동차', '수송'],

  // 4. 통신/컴퓨터
  통신: [
    '통신',
    '무선',
    '유선',
    '네트워크',
    '암호',
    '위성',
    'M/W',
    '정보통신망',
    '전술C4I',
  ],
  컴퓨터: [
    '컴퓨터',
    '전산',
    '네트워크',
    '서버',
    'C4I',
    '정보체계',
    '보안',
    '암호',
    '통신',
    '사무자동화',
    'SW',
  ],
  레이더: ['레이더', '레이다', '탐지', '포병레이더', '방공레이더', '감시장비'],
  보안: ['보안', '암호', '정보보호', '군사경찰'],

  // 5. 공병/건설
  공병: [
    '공병',
    '건설',
    '야전공병',
    '장애물',
    '지뢰',
    '폭파',
    '시설물',
    '배관',
    '전기',
    '소방',
  ],
  건설: [
    '건설',
    '공병',
    '토목',
    '건축',
    '야전건설',
    '배관',
    '전기설비',
    '용접',
  ],
  중장비: [
    '중장비',
    '도저',
    '굴착기',
    '크레인',
    '로더',
    '그레이더',
    '롤러',
    '지게차',
    '운전',
  ],

  // 6. 행정/보급
  행정: [
    '행정',
    '일반행정',
    '사무',
    'PC',
    '법무',
    '재정',
    '회계',
    '공보정훈',
    '군사경찰',
    '인사',
  ],
  보급: [
    '보급',
    '물자',
    '탄약',
    '연료',
    '편성보급',
    '지원보급',
    '의무보급',
    '수리부속',
  ],

  // 7. 의무
  의무: [
    '의무',
    '병원',
    '간호',
    '치과',
    '수의',
    '임상병리',
    '방사선',
    '약제',
    '물리치료',
    '응급처치',
  ],
  간호: ['간호', '전문간호', '의무', '병원', '주사', '환자'],
  약: ['약', '약제', '약사', '의무보급', '병원'],

  // 8. 기타
  조리: ['조리', '취사', '음식', '식당', '주식', '부식'],
  화생방: [
    '화생방',
    '화학',
    '생물학',
    '방사능',
    '제독',
    '탐지',
    '정찰',
    '연막',
  ],
  영상: ['영상', '사진', '촬영', '제작', 'VTR', '공보정훈', '카메라'],
  // 지속적으로 확장 예정
};

/**
 * 사용자의 검색어를 확장된 키워드 배열로 변환하는 함수
 * @param {string} searchTerm - 사용자가 입력한 검색어
 * @returns {string[]} 확장된 검색 키워드 배열
 */
export function getExpandedKeywords(searchTerm) {
  const normalizedTerm = searchTerm.toLowerCase();

  // 맵의 '키' (대표 검색어) 중에서 사용자가 입력한 단어를 포함하는 키를 찾음
  // 예: 사용자가 "운전병" 입력 -> '운전' 키를 찾음
  const foundKey = Object.keys(searchKeywordMap).find((key) =>
    normalizedTerm.includes(key),
  );

  if (foundKey) {
    // 해당 키의 값(유의어 배열)을 반환 (예: ['운전', '조종', '차량', ...])
    return searchKeywordMap[foundKey];
  }

  // 맵에 일치하는 키가 없으면, 사용자가 입력한 단어만 배열로 반환
  return [normalizedTerm];
}
